<div class="templates">
  <div class="table-of-templates">
    <mat-table
      [dataSource]="dataSource"
      matSort
      (matSortChange)="sortData($event)"
    >
      <!-- Name Column -->
      <ng-container matColumnDef="name">
        <mat-header-cell mat-header-cell *matHeaderCellDef mat-sort-header>
          Name</mat-header-cell
        >
        <mat-cell mat-cell *matCellDef="let row">
          {{ row.name }}
        </mat-cell>
      </ng-container>

      <!-- Created By Column -->
      <ng-container matColumnDef="createdBy">
        <mat-header-cell mat-header-cell *matHeaderCellDef mat-sort-header>
          Created By</mat-header-cell
        >
        <mat-cell mat-cell *matCellDef="let row">
          {{ row.createdBy }}
        </mat-cell>
      </ng-container>

      <!-- Date Column -->
      <ng-container matColumnDef="date">
        <mat-header-cell
          *matHeaderCellDef
          mat-sort-header="activeLink"
          class="link-container"
          >Date</mat-header-cell
        >
        <mat-cell
          fxLayout="row"
          fxLayoutAlign="space-between center"
          *matCellDef="let row"
          class="link-container"
        >
          {{ row.date | date: "medium" }}
        </mat-cell>
      </ng-container>

      <ng-container matColumnDef="action">
        <mat-header-cell
          *matHeaderCellDef
          mat-sort-header="action"
          class="action-container"
        ></mat-header-cell>
        <mat-cell
          fxLayout="row"
          fxLayoutAlign="space-between center"
          *matCellDef="let row"
          class="action-container flex justify-end"
        >
          <mat-icon class="menu cursor-pointer" [matMenuTriggerFor]="beforeMenu"
            >more_vert</mat-icon
          >
          <mat-menu #beforeMenu="matMenu" xPosition="before">
            <button mat-menu-item (click)="editTemplate(row)">Edit</button>
          </mat-menu>
        </mat-cell>
      </ng-container>

      <mat-header-row
        mat-header-row
        *matHeaderRowDef="displayedColumns"
      ></mat-header-row>
      <mat-row
        mat-row
        class="hover:bg-gray-100"
        *matRowDef="let row; columns: displayedColumns"
      >
      </mat-row>
    </mat-table>
    <p class="total pl-3 text-gray-400 bg-white">
      Total Templates: {{ dataSource?.data ? dataSource.data.length : 0 }}
    </p>
    <mat-paginator
      #paginator
      [pageSizeOptions]="[5, 10, 25, 100]"
    ></mat-paginator>
  </div>
</div>
